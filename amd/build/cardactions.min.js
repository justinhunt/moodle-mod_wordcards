define("mod_wordcards/cardactions",["jquery","core/ajax","core/str","core/log","mod_wordcards/youglish"],(function($,ajax,str,log,youglish){const SELECTOR_CARDCONTAINER=".flip-card",SELECTOR_BACKFACE='[data-face="details"]',SELECTOR_YOUGLISH_HOLDER=".term-video",SELECTOR_YOUGLISH_PLACEHOLDER=".youglish-placeholder",EVENT_CLICK="click";const loadYouGlish=function(currentface){log.debug("loadYouGlish");var youglishholder=currentface.find(SELECTOR_YOUGLISH_HOLDER),youglishplaceholder=currentface.find(SELECTOR_YOUGLISH_PLACEHOLDER);youglish.load(youglishplaceholder.data("term"),youglishholder)};return{init:function(){$(document).ready((function(){var callback;str.get_strings([{key:"addtomywords",component:"mod_wordcards"},{key:"removefrommywords",component:"mod_wordcards"}]).done((function(strings){strings,"function"==typeof callback&&callback()})),$(SELECTOR_CARDCONTAINER).on(EVENT_CLICK,(function(e){const actualTar=$(e.currentTarget).children();actualTar.hasClass("show-back-side")?actualTar.removeClass("show-back-side"):actualTar.addClass("show-back-side")})),$(SELECTOR_YOUGLISH_PLACEHOLDER).on(EVENT_CLICK,(function(e){e.stopPropagation(),$(".term-image")&&($(".term-image").css("display","none"),$(".retrieve-image").css("display","block"));const currTar=$(e.currentTarget);loadYouGlish(currTar.closest(SELECTOR_BACKFACE)),$(".retrieve-image")&&$(".retrieve-image").on(EVENT_CLICK,(function(e){e.stopPropagation(),$(".term-video").css("display","none"),$(".retrieve-image").css("display","none"),$(".term-image").css("display","block"),$(".retrieve-video").css("display","block")})),$(".retrieve-video")&&$(".retrieve-video").on(EVENT_CLICK,(function(e){e.stopPropagation(),$(".term-video").css("display","block"),$(".retrieve-image").css("display","block"),$(".term-image").css("display","none"),$(".retrieve-video").css("display","none");const currTar=$(e.currentTarget);loadYouGlish(currTar.closest(SELECTOR_BACKFACE))}))})),$.getScript("https://youglish.com/public/emb/widget.js",(function(){log.debug("youglish script loaded")}))}))}}}));

//# sourceMappingURL=cardactions.min.js.map