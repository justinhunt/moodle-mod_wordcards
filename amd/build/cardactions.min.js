define("mod_wordcards/cardactions",["jquery","core/ajax","core/str","core/log","mod_wordcards/youglish"],(function($,ajax,str,log,youglish){const SELECTOR_CARD=".definition_flashcards .wc-faces",SELECTOR_FRONTFACE='[data-face="term"]',SELECTOR_BACKFACE='[data-face="details"]',SELECTOR_YOUGLISH_HOLDER=".term-video",SELECTOR_YOUGLISH_WIDGET="#mod_wordcardsyouglish-widget",SELECTOR_YOUGLISH_PLACEHOLDER=".youglish-placeholder",EVENT_CLICK="click";const initButtonListeners=function(){$(SELECTOR_CARD).on(EVENT_CLICK,(function(e){const currTar=$(e.currentTarget),faceback=currTar.find(SELECTOR_BACKFACE),facefront=currTar.find(SELECTOR_FRONTFACE);faceback.is(":visible")?(faceback.hide(),facefront.show(),function(currentface){log.debug("clearYouGlish");var youglishwidget=$(SELECTOR_YOUGLISH_WIDGET);currentface.find(SELECTOR_YOUGLISH_PLACEHOLDER).show(),youglishwidget.hide(),youglish.clear()}(faceback)):facefront.is(":visible")&&(facefront.hide(),faceback.show())})),$(SELECTOR_YOUGLISH_PLACEHOLDER).on(EVENT_CLICK,(function(e){e.stopPropagation();!function(currentface){log.debug("loadYouGlish");var youglishholder=currentface.find(SELECTOR_YOUGLISH_HOLDER),youglishplaceholder=currentface.find(SELECTOR_YOUGLISH_PLACEHOLDER);youglish.load(youglishplaceholder.data("term"),youglishholder)}($(e.currentTarget).closest(SELECTOR_BACKFACE))}))};return{init:function(){$(document).ready((function(){var callback;str.get_strings([{key:"addtomywords",component:"mod_wordcards"},{key:"removefrommywords",component:"mod_wordcards"}]).done((function(strings){strings,"function"==typeof callback&&callback()})),initButtonListeners(),$.getScript("https://youglish.com/public/emb/widget.js",(function(){log.debug("youglish script loaded")}))}))}}}));

//# sourceMappingURL=cardactions.min.js.map